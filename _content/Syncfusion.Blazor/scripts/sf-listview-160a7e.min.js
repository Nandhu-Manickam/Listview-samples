(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["sf-listview"],{

/***/ "./bundles/sf-listview.js":
/*!********************************!*\
  !*** ./bundles/sf-listview.js ***!
  \********************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_sf_listview_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/sf-listview.js */ "./modules/sf-listview.js");
/* harmony import */ var _modules_sf_listview_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_sf_listview_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./modules/sf-listview.js":
/*!********************************!*\
  !*** ./modules/sf-listview.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

window.sfBlazor = window.sfBlazor || {};

window.sfBlazor.ListView = function () {
  'use strict';

  var EffectsConfig = {
    'None': [],
    'SlideLeft': ['SlideRightOut', 'SlideLeftOut', 'SlideLeftIn', 'SlideRightIn'],
    'SlideDown': ['SlideTopOut', 'SlideBottomOut', 'SlideBottomIn', 'SlideTopIn'],
    'Zoom': ['FadeOut', 'FadeZoomOut', 'FadeZoomIn', 'FadeIn'],
    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']
  };
  var EffectsRTLConfig = {
    'None': [],
    'SlideLeft': ['SlideLeftOut', 'SlideRightOut', 'SlideRightIn', 'SlideLeftIn'],
    'SlideDown': ['SlideBottomOut', 'SlideTopOut', 'SlideTopIn', 'SlideBottomIn'],
    'Zoom': ['FadeZoomOut', 'FadeOut', 'FadeIn', 'FadeZoomIn'],
    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']
  };
  var SWIPEVELOCITY = 0.5;
  var DATASOURCEKEY = 'defaultData_Key';
  var HOVER = 'e-hover';
  var SELECTED = 'e-active';
  var FOCUSED = 'e-focused';
  var LISTITEM = 'e-list-item';
  var GROUPLISTITEM = 'e-list-group-item';
  var HASCHILD = 'e-has-child';
  var HEADER = 'e-list-header';
  var HEADERTEXT = 'e-headertext';
  var DISABLE = 'e-disabled';
  var backIcon = 'e-icon-back';
  var CHECKBOXWRAPPER = 'e-checkbox-wrapper';
  var CHECKED = 'e-check';
  var CHECKBOXICON = 'e-frame';
  var VIRTUALULCONTAINER = "e-list-virtualcontainer";

  var sfListView =
  /** @class */
  function () {
    function sfListView(element, dotnetRef, properties, enableSelectEvent) {
      this.dataSourceLevel = [DATASOURCEKEY];
      this.curDSKey = DATASOURCEKEY;
      this.isWindow = false;
      this.liElementDifference = 0;
      this.liElementHeight = 0;
      this.virtualListDifference = 0;
      this.element = element;
      this.dotNetRef = dotnetRef;
      this.showCheckBox = properties.ShowCheckBox;
      this.showHeader = properties.ShowHeader;
      this.enable = properties.Enabled;
      this.curUlElement = element.querySelector('ul');
      this.enableVirtualization = properties.EnableVirtualization;
      this.isWindow = properties.IsWindow;
      this.enableSelectEvent = enableSelectEvent;
      this.height = properties.Height;
      this.headerTitleInfo = [properties.HeaderTitle];
      this.selectedItems = {
        defaultData_Key: properties.SelectedElementIdInfo
      };
      this.enableRtl = properties.EnableRtl;
      this.animation = properties.Animation;
      this.isTemplate = properties.Template;
      this.element.blazor__instance = this;
    }

    sfListView.prototype.initialize = function () {
      if (this.enableVirtualization) {
        if (this.isWindow) {
          this.dotNetRef.invokeMethodAsync('GetComponenetHeight', window.innerHeight);
        } else if (this.height.indexOf("%") !== -1) {
          var parentContainerHeight = this.element.parentElement.getBoundingClientRect().height;
          this.dotNetRef.invokeMethodAsync('GetComponenetHeight', parentContainerHeight / 100 * parseFloat(this.height));
        }

        this.updateLiElementHeight();
      }

      this.headerElement = this.element.querySelector('.' + HEADERTEXT);
      this.animationObject = new sf.base.Animation(this.animateOptions);
      this.wireEvents();
    };

    sfListView.prototype.wireEvents = function () {
      sf.base.EventHandler.add(this.element, 'keydown', this.keyActionHandler, this);
      sf.base.EventHandler.add(this.element, 'click', this.clickHandler, this);
      this.touchModule = new sf.base.Touch(this.element, {
        swipe: this.swipeActionHandler.bind(this)
      });

      if (this.enableVirtualization) {
        sf.base.EventHandler.add(this.element, 'scroll', this.scrollHandler, this);
        if (this.isWindow) window.addEventListener('scroll', this.scrollHandler.bind(this));
      } else {
        sf.base.EventHandler.add(this.element, 'mouseover', this.mouseHoverHandler, this);
        sf.base.EventHandler.add(this.element, 'mouseout', this.mouseOutHandler, this);
      }
    };

    sfListView.prototype.unWireEvents = function () {
      sf.base.EventHandler.remove(this.element, 'keydown', this.keyActionHandler);
      sf.base.EventHandler.remove(this.element, 'click', this.clickHandler);
      this.touchModule.destroy();

      if (this.enableVirtualization) {
        sf.base.EventHandler.remove(this.element, 'scroll', this.scrollHandler);
        if (this.isWindow) window.removeEventListener('scroll', this.scrollHandler.bind(this));
      } else {
        sf.base.EventHandler.remove(this.element, 'mouseover', this.mouseHoverHandler);
        sf.base.EventHandler.remove(this.element, 'mouseout', this.mouseOutHandler);
      }
    };

    sfListView.prototype.swipeActionHandler = function (e) {
      if (e.swipeDirection === 'Right' && e.velocity > SWIPEVELOCITY && e.originalEvent.type === 'touchend') {
        if (this.showCheckBox && this.dataSourceLevel[this.dataSourceLevel.length - 1]) {
          this.uncheckAllItems();
        }

        this.back();
      }
    };

    sfListView.prototype.showHideItem = function (item, display) {
      if (this.element) {
        var li = this.element.querySelector('[data-uid="' + item.id + '"]');

        if (li) {
          li.style.display = display;
        }
      }
    };

    sfListView.prototype.enableState = function (item, isEnable) {
      if (this.element) {
        var liElement = this.element.querySelector('[data-uid="' + item.id + '"]');

        if (liElement) {
          isEnable ? liElement.classList.remove('e-disabled') : liElement.classList.add('e-disabled');
        }
      }
    };

    sfListView.prototype.scrollHandler = function (e) {
      var listDiff;
      if (!this.liElementHeight) this.updateLiElementHeight();
      listDiff = this.isWindow ? Math.round(e.target.documentElement.scrollTop / this.liElementHeight) : listDiff = Math.round(e.target.scrollTop / this.liElementHeight);

      if (listDiff - this.liElementDifference >= this.virtualListDifference || listDiff - this.liElementDifference <= -1) {
        if (this.showCheckBox) {
          var focuseElement = this.curUlElement.querySelector('.' + FOCUSED);

          if (focuseElement) {
            this.focusedElementId = focuseElement.getAttribute("data-uid");
          }
        } else {
          var activeElement = this.curUlElement.querySelector('.' + SELECTED);

          if (activeElement && this.selectedItems[this.curDSKey][0]) {
            this.selectedItems[this.curDSKey][0] = activeElement.getAttribute("data-uid");
          }
        }

        var virtualElementContainer = this.element.querySelector('.' + VIRTUALULCONTAINER);

        if (virtualElementContainer) {
          virtualElementContainer.style.top = (listDiff - 1) * this.liElementHeight < 0 ? '0px' : (listDiff - 2) * this.liElementHeight + 'px';
          this.liElementDifference = listDiff;
          this.dotNetRef.invokeMethodAsync('VirtualScrolling', listDiff - 2);
        }
      }
    };

    sfListView.prototype.updateLiElementHeight = function () {
      var virtualElementContainer = this.element.querySelector('.' + VIRTUALULCONTAINER);

      if (virtualElementContainer) {
        if (!this.curUlElement) this.curUlElement = this.element.querySelector('ul');
        var LiElement = virtualElementContainer.children[0];

        if (LiElement) {
          this.liElementHeight = LiElement.getBoundingClientRect().height;
          this.dotNetRef.invokeMethodAsync('UpdateLiElementHeight', this.liElementHeight);
        }
      }
    };

    sfListView.prototype.updateElementDifference = function (ListDifference) {
      this.virtualListDifference = ListDifference;
    };

    sfListView.prototype.selectItem = function (item) {
      var liItem = this.element.querySelector('[data-uid="' + item.id + '"]');

      if (this.showCheckBox) {
        this.SetChecked(liItem, liItem.querySelector('.' + CHECKBOXWRAPPER));
      } else {
        sf.base.isNullOrUndefined(liItem) ? this.removeSelect() : this.setSelectLI(liItem, null);
      }
    };

    sfListView.prototype.clickHandler = function (e) {
      var target = e.target;
      var classList = target.classList;

      if (classList.contains(backIcon) && !classList.contains(HEADERTEXT)) {
        this.back();
      } else {
        var li = sf.base.closest(target.parentNode, '.' + LISTITEM);

        if (li === null) {
          li = target;
        }

        if (!li.classList.contains(DISABLE) && this.enable) {
          this.removeFocus();

          if (!this.showCheckBox) {
            if (this.curUlElement.querySelector('.' + SELECTED)) {
              this.curUlElement.querySelector('.' + SELECTED).classList.remove(SELECTED);
            }

            if (li.classList.contains(HASCHILD)) {
              this.setSelectLI(li, e);
            } else {
              li.classList.add(SELECTED);
              this.selectedItems[this.curDSKey][0] = li.getAttribute('data-uid');
            }
          } else {
            if (e.target.classList.contains(CHECKBOXICON)) {
              li.classList.add(FOCUSED);

              if (!li.querySelector('.' + CHECKED)) {
                this.SetChecked(li, li.querySelector('.' + CHECKBOXWRAPPER));
              } else {
                this.uncheckItem(li);
              }
            } else if (li.classList.contains(HASCHILD)) {
              this.removeHover();
              this.removeSelect();
              this.setSelectLI(li, e);
            } else {
              li.classList.add(FOCUSED);

              if (!li.querySelector('.' + CHECKED)) {
                this.SetChecked(li, li.querySelector('.' + CHECKBOXWRAPPER));
              } else {
                this.uncheckItem(li);
              }
            }
          }

          if (this.enableSelectEvent) {
            var Checked = li.querySelector('.' + CHECKED) ? true : false;
            var args = {
              ElementId: li.getAttribute('data-uid'),
              isChecked: Checked,
              Key: this.curDSKey,
              Item: this.getDOMObject('liElement', li),
              Event: this.getMouseEvtArgs(e)
            };
            this.dotNetRef.invokeMethodAsync('TriggerSelectEvent', args);
          }
        }
      }
    };

    sfListView.prototype.getMouseEvtArgs = function (e) {
      return {
        altKey: e.altKey,
        button: e.button,
        buttons: e.buttons,
        clientX: e.clientX,
        clientY: e.clientY,
        ctrlKey: e.ctrlKey,
        detail: e.detail,
        metaKey: e.metaKey,
        screenX: e.screenX,
        screenY: e.screenY,
        shittKey: e.shiftKey,
        type: e.type
      };
    };

    sfListView.prototype.getDOMObject = function (value, element) {
      if (element != null) {
        // tslint:disable
        var domValues = window.sfBlazor.getDomObject(value, element); // tslint:enable

        return {
          ID: domValues.id,
          XPath: domValues.xPath,
          DomUUID: domValues.domUUID,
          ParentID: this.element.getAttribute('id')
        };
      } else {
        return null;
      }
    };

    sfListView.prototype.back = function () {
      if (this.dataSourceLevel.length > 1) {
        var ulElement = this.element.querySelectorAll('ul');

        for (var i = 0; i < ulElement.length; i++) {
          if (this.dataSourceLevel.length > 2) {
            if (ulElement[i].getAttribute('pid') == this.dataSourceLevel[this.dataSourceLevel.length - 2]) {
              this.switchView(this.curUlElement, ulElement[i], true);
              this.curUlElement = ulElement[i];
            } else {
              ulElement[i].style.display = 'none';
            }
          } else {
            if (ulElement[i].getAttribute('pid') == null) {
              this.switchView(this.curUlElement, ulElement[i], true);
              this.curUlElement = ulElement[i];
            } else {
              ulElement[i].style.display = 'none';
            }
          }
        }

        this.dataSourceLevel.pop();

        if (!this.isTemplate) {
          this.headerTitleInfo.pop();
          if (this.headerElement) this.headerElement.innerText = this.headerTitleInfo[this.headerTitleInfo.length - 1];
        }

        this.curDSKey = this.dataSourceLevel[this.dataSourceLevel.length - 1];

        if (this.dataSourceLevel.length == 1) {
          this.element.querySelector('.' + HEADER).children[0].style.display = 'none';
        }
      }
    };

    sfListView.prototype.setHoverLI = function (li) {
      if (!this.element.classList.contains(DISABLE) && !li.classList.contains(DISABLE)) li.classList.add(HOVER);
    };

    sfListView.prototype.mouseHoverHandler = function (e) {
      var curruentLitElemet = sf.base.closest(e.target.parentNode, '.' + LISTITEM);

      if (curruentLitElemet) {
        this.setHoverLI(curruentLitElemet);
      }
    };

    sfListView.prototype.mouseOutHandler = function (e) {
      this.removeHover();
    };

    sfListView.prototype.removeHover = function () {
      var hoverLI = this.element.querySelector('.' + HOVER);

      if (hoverLI) {
        hoverLI.classList.remove(HOVER);
      }
    };

    sfListView.prototype.removeFocus = function () {
      if (!this.curUlElement) {
        this.curUlElement = this.element.querySelector('ul');
      }

      var focusedLI = this.curUlElement.querySelectorAll('.' + FOCUSED);

      for (var _i = 0, focusedLI_1 = focusedLI; _i < focusedLI_1.length; _i++) {
        var element = focusedLI_1[_i];
        element.classList.remove(FOCUSED);
      }
    };

    sfListView.prototype.isValidLI = function (li) {
      return li && li.classList.contains(LISTITEM) && !li.classList.contains(GROUPLISTITEM) && !li.classList.contains(DISABLE);
    };

    sfListView.prototype.removeSelect = function (li) {
      if (sf.base.isNullOrUndefined(li)) {
        var selectedLI = this.element.querySelectorAll('.' + SELECTED);

        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {
          var element = selectedLI_1[_i];
          element.setAttribute('aria-selected', 'false');
          element.classList.remove(SELECTED);
        }
      } else {
        li.classList.remove(SELECTED);
        li.setAttribute('aria-selected', 'false');
      }
    };

    sfListView.prototype.setSelectLI = function (li, e) {
      if (this.isValidLI(li) && !li.classList.contains(SELECTED) && this.enable) {
        if (!this.showCheckBox) this.removeSelect();
        li.classList.add(SELECTED);
        li.setAttribute('aria-selected', 'true');
        this.removeHover();
        if (li.classList.contains(HASCHILD)) this.renderSubList(li);
      }
    };

    sfListView.prototype.renderSubList = function (li) {
      var liElement = li;
      var uID = li.getAttribute('data-uid');
      var headerElment = this.element.querySelector('.' + HEADER);
      li.classList.remove(SELECTED);
      li.classList.add(FOCUSED);
      if (this.showHeader && headerElment) headerElment.children[0].style.display = null;

      if (liElement.classList.contains(HASCHILD) && uID) {
        var UlElement = this.element.querySelector('[pid=\'' + uID + '\']');

        if (!UlElement) {
          var args = {
            ElementId: uID,
            Key: this.curDSKey
          }; // tslint:disable

          this.dotNetRef.invokeMethodAsync('ListChildDataSource', args); // tslint:enable   
        } else {
          this.renderChildList(uID);
        }

        if (!this.isTemplate) {
          this.headerTitleInfo.push(liElement.innerText.trim());
          if (this.headerElement) this.headerElement.innerText = this.headerTitleInfo[this.headerTitleInfo.length - 1];
        }

        this.dataSourceLevel.push(uID);
        this.curDSKey = uID;
      }
    };

    sfListView.prototype.renderChildList = function (id, selectedItems) {
      var ulElement = this.element.querySelectorAll('ul');
      if (!ulElement[ulElement.length - 1].getAttribute('pid')) ulElement[ulElement.length - 1].setAttribute('pid', id);

      for (var i = 0; i < ulElement.length; i++) {
        if (ulElement[i].getAttribute('pid') == id) {
          this.switchView(this.curUlElement, ulElement[i], false);
          this.curUlElement = ulElement[i];
          if (selectedItems) this.selectedItems[id] = selectedItems;
        }
      }
    };

    sfListView.prototype.keyActionHandler = function (e) {
      switch (e.keyCode) {
        case 36:
          this.homeKeyHandler(e);
          break;

        case 35:
          this.homeKeyHandler(e, true);
          break;

        case 40:
          this.arrowKeyHandler(e);
          break;

        case 38:
          this.arrowKeyHandler(e, true);
          break;

        case 13:
          this.enterKeyHandler(e);
          break;

        case 8:
          if (this.showCheckBox && this.curDSKey) {
            this.uncheckAllItems();
          }

          this.back();
          break;

        case 32:
          this.spaceKeyHandler(e);
          break;
      }
    };

    sfListView.prototype.homeKeyHandler = function (e, end) {
      var activeElement = this.curUlElement.querySelector('.' + SELECTED);
      var focusedElement = this.curUlElement.querySelector('.' + FOCUSED);

      if (activeElement) {
        activeElement.removeAttribute('aria-selected');
        activeElement.classList.remove(SELECTED);
      }

      if (focusedElement) {
        focusedElement.classList.remove(FOCUSED);
      }

      var index = !end ? 0 : this.curUlElement.children.length - 1;
      var liElement = this.curUlElement.children[index];
      liElement.classList.add(SELECTED);
      liElement.setAttribute('aria-selected', 'true');

      if (this.showCheckBox) {
        liElement.classList.add(FOCUSED);
      }

      if (this.curUlElement.children[index]) {
        this.element.setAttribute('aria-activedescendant', this.curUlElement.children[index].id.toString());
      } else {
        this.element.removeAttribute('aria-activedescendant');
      }
    };

    sfListView.prototype.onArrowKeyDown = function (e, previouse) {
      var siblingLI;
      var liElement;
      var hasChildElement = !sf.base.isNullOrUndefined(this.curUlElement.querySelector('.' + HASCHILD)) ? true : false;

      if (hasChildElement || this.showCheckBox) {
        liElement = this.curUlElement.querySelector('.' + FOCUSED) || this.curUlElement.querySelector('.' + SELECTED);
        siblingLI = this.getSiblingLI(this.curUlElement.querySelectorAll('.' + LISTITEM), liElement, previouse);

        if (!sf.base.isNullOrUndefined(siblingLI)) {
          if (liElement) {
            liElement.classList.remove(FOCUSED);

            if (!this.showCheckBox) {
              liElement.classList.remove(SELECTED);
            }
          }

          if (siblingLI.classList.contains(HASCHILD) || this.showCheckBox) {
            siblingLI.classList.add(FOCUSED);
          } else {
            this.setSelectLI(siblingLI, e);
          }
        }
      } else {
        liElement = this.curUlElement.querySelector('.' + SELECTED);
        siblingLI = this.getSiblingLI(this.curUlElement.querySelectorAll('.' + LISTITEM), liElement, previouse);
        this.setSelectLI(siblingLI, e);
      }

      if (siblingLI) {
        this.element.setAttribute('aria-activedescendant', siblingLI.id.toString());
      } else {
        this.element.removeAttribute('aria-activedescendant');
      }

      return siblingLI;
    };

    sfListView.prototype.getSiblingLI = function (elementArray, element, isPrevious) {
      var licollection = Array.prototype.slice.call(elementArray);
      var curIndex = licollection.indexOf(element);
      return isPrevious ? licollection[curIndex - 1] : licollection[curIndex + 1];
    };

    sfListView.prototype.arrowKeyHandler = function (e, prev) {
      e.preventDefault();

      if (this.curUlElement) {
        var siblingLI = this.onArrowKeyDown(e, prev);
        var elementTop = this.element.getBoundingClientRect().top;
        var elementHeight = this.element.getBoundingClientRect().height;
        var heightDiff = void 0;

        if (siblingLI) {
          var siblingTop = siblingLI.getBoundingClientRect().top;
          var siblingHeight = siblingLI.getBoundingClientRect().height;

          if (!prev) {
            var height = this.isWindow ? window.innerHeight : elementHeight;
            heightDiff = this.isWindow ? siblingTop + siblingHeight : siblingTop - elementTop + siblingHeight;

            if (heightDiff > height) {
              this.isWindow ? window.scroll(0, pageYOffset + (heightDiff - height)) : this.element.scrollTop = this.element.scrollTop + (heightDiff - height);
            }
          } else {
            heightDiff = this.isWindow ? siblingTop : siblingTop - elementTop;

            if (heightDiff < 0) {
              this.isWindow ? window.scroll(0, pageYOffset + heightDiff) : this.element.scrollTop = this.element.scrollTop + heightDiff;
            }
          }
        }
      }
    };

    sfListView.prototype.enterKeyHandler = function (e) {
      if (this.curUlElement) {
        var hasChilds = this.curUlElement.querySelector('.' + HASCHILD) ? true : false;
        var li = this.curUlElement.querySelector('.' + FOCUSED);

        if (hasChilds && li) {
          li.classList.remove(FOCUSED);

          if (this.showCheckBox) {
            this.removeSelect();
            this.removeHover();
          }

          this.setSelectLI(li, e);
        }
      }
    };

    sfListView.prototype.checkAllItems = function () {
      this.updateCheckBoxState(true);
    };

    sfListView.prototype.uncheckAllItems = function () {
      this.updateCheckBoxState(false);
    };

    sfListView.prototype.updateCheckBoxState = function (isChecked) {
      if (this.showCheckBox) {
        var liCollection = this.curUlElement.querySelectorAll('li');
        var liElementCount = !this.enableVirtualization ? this.curUlElement.childElementCount : this.curUlElement.querySelector('.' + VIRTUALULCONTAINER).childElementCount;

        for (var i = 0; i < liElementCount; i++) {
          var checkIcon = liCollection[i].querySelector('.' + CHECKBOXICON);

          if (checkIcon) {
            if (isChecked && !checkIcon.classList.contains(CHECKED)) {
              this.checkItem(liCollection[i]);
            } else if (checkIcon.classList.contains(CHECKED)) {
              this.uncheckItem(liCollection[i]);
            }
          }
        }
      }
    };

    sfListView.prototype.checkItem = function (item) {
      this.toggleCheckBox(item, true);
    };

    sfListView.prototype.getCheckData = function (item, isCheck) {
      var liItem = this.curUlElement.querySelector('[data-uid=\'' + item.id + '\']');
      if (isCheck) this.checkItem(liItem);else this.uncheckItem(liItem);
    };

    sfListView.prototype.spaceKeyHandler = function (e) {
      e.preventDefault();

      if (this.enable && this.showCheckBox && this.curUlElement) {
        var li = this.curUlElement.querySelector('.' + FOCUSED);

        if (!sf.base.isNullOrUndefined(li) && sf.base.isNullOrUndefined(li.querySelector('.' + CHECKED))) {
          this.SetChecked(li, li.querySelector('.' + CHECKBOXWRAPPER));
        } else {
          this.uncheckItem(li);
        }
      }
    };

    sfListView.prototype.SetChecked = function (item, checkboxElement) {
      this.removeFocus();
      item.classList.add(FOCUSED);
      item.classList.add(SELECTED);
      item.setAttribute('aria-selected', 'true');

      if (checkboxElement) {
        checkboxElement.querySelector('.' + CHECKBOXICON).classList.add(CHECKED);
        checkboxElement.setAttribute('aria-checked', 'true');
      }

      if (this.selectedItems[this.curDSKey] && this.selectedItems[this.curDSKey].indexOf(item.getAttribute('data-uid')) === -1) {
        this.selectedItems[this.curDSKey].push(item.getAttribute('data-uid'));
      }
    };

    sfListView.prototype.toggleCheckBox = function (item, isChecked) {
      if (this.showCheckBox) {
        var liElement = item;

        if (!sf.base.isNullOrUndefined(liElement)) {
          var checkboxIconElement = liElement.querySelector('.' + CHECKBOXICON);
          isChecked ? liElement.classList.add(SELECTED) : liElement.classList.remove(SELECTED);
          liElement.setAttribute('aria-selected', isChecked ? 'true' : 'false');
          isChecked ? checkboxIconElement.classList.add(CHECKED) : checkboxIconElement.classList.remove(CHECKED);
          checkboxIconElement.parentElement.setAttribute('aria-checked', isChecked ? 'true' : 'false');
        }
      }
    };

    sfListView.prototype.uncheckItem = function (item) {
      if (this.selectedItems[this.curDSKey] && this.selectedItems[this.curDSKey].indexOf(item.getAttribute('data-uid')) !== 1) {
        this.selectedItems[this.curDSKey].splice(this.selectedItems[this.curDSKey].indexOf(item.getAttribute('data-uid')), 1);
      }

      this.toggleCheckBox(item, false);
    };

    sfListView.prototype.addActiveClass = function () {
      if (!this.curUlElement) this.curUlElement = this.element.querySelector('ul');
      var liCollection = this.enableVirtualization ? this.curUlElement.querySelector('.' + VIRTUALULCONTAINER).children : this.curUlElement.children;
      var selectedItemsId = this.selectedItems[this.curDSKey];

      for (var i = 0; i < liCollection.length; i++) {
        if (!this.showCheckBox) {
          if (selectedItemsId[0] == liCollection[i].getAttribute("data-uid")) {
            liCollection[i].classList.add(SELECTED);
          } else {
            liCollection[i].classList.remove(SELECTED);
          }
        } else {
          if (this.focusedElementId) {
            this.focusedElementId == liCollection[i].getAttribute("data-uid") ? liCollection[i].classList.add(FOCUSED) : liCollection[i].classList.remove(FOCUSED);
          }

          if (selectedItemsId.length > 0) {
            if (selectedItemsId.indexOf(liCollection[i].getAttribute("data-uid")) !== -1) {
              liCollection[i].classList.add(SELECTED);
              this.toggleCheckBox(liCollection[i], true);
            } else {
              liCollection[i].classList.remove(SELECTED);
              this.toggleCheckBox(liCollection[i], false);
            }
          }
        }
      }
    };

    sfListView.prototype.getSelectedItems = function () {
      return {
        ElementId: this.selectedItems[this.curDSKey],
        Key: this.curDSKey
      };
    }; // Animation Related Functions


    sfListView.prototype.switchView = function (fromView, toView, reverse) {
      var _this = this;

      if (fromView && toView) {
        var fromViewPos_1 = fromView.style.position;
        var overflow_1 = this.element.style.overflow !== 'hidden' ? this.element.style.overflow : '';
        fromView.style.position = 'absolute';
        fromView.classList.add('e-view');
        var animationEffect = void 0;
        var duration = this.animation.duration;

        if (this.animation.effect) {
          animationEffect = this.enableRtl ? EffectsRTLConfig[this.animation.effect] : EffectsConfig[this.animation.effect];
        } else {
          var slideLeft = 'SlideLeft';
          animationEffect = EffectsConfig[slideLeft];
          reverse = this.enableRtl;
          duration = 0;
        }

        this.element.style.overflow = 'hidden';
        this.animationObject.animate(fromView, {
          name: reverse ? animationEffect[0] : animationEffect[1],
          duration: duration,
          timingFunction: this.animation.easing,
          end: function end(model) {
            fromView.style.display = 'none';
            _this.element.style.overflow = overflow_1;
            fromView.style.position = fromViewPos_1;
            fromView.classList.remove('e-view');
          }
        });
        toView.style.display = '';
        this.animationObject.animate(toView, {
          name: reverse ? animationEffect[2] : animationEffect[3],
          duration: duration,
          timingFunction: this.animation.easing,
          end: function end() {
            _this.dotNetRef.invokeMethodAsync('TriggerActionComplete');
          }
        });
        this.curUlElement = toView;
      }
    };

    sfListView.prototype.setAnimation = function (animation) {
      this.animation = animation;
    };

    sfListView.prototype.setSelectedItems = function (selectedElementIdInfo) {
      this.selectedItems = {
        defaultData_Key: selectedElementIdInfo
      };
      this.dataSourceLevel = [DATASOURCEKEY];
      this.curDSKey = DATASOURCEKEY;
      this.curUlElement = this.element.querySelector('ul');
      this.curUlElement.style.removeProperty('display');
      this.addActiveClass();
      this.removeFocus();
      this.headerTitleInfo = this.headerTitleInfo.splice(0, 1);
      if (this.headerElement) this.headerElement.innerText = this.headerTitleInfo[this.headerTitleInfo.length - 1];

      if (this.dataSourceLevel.length == 1) {
        this.element.querySelector('.' + HEADER).children[0].style.display = 'none';
      }
    };

    sfListView.prototype.updateHeaderTitle = function (title) {
      this.headerTitleInfo[0] = title;
      if (this.headerElement) this.headerElement.innerText = title;
    };

    sfListView.prototype.destroy = function () {
      this.element.style.display = 'none';
      this.unWireEvents();
    };

    return sfListView;
  }();

  var ListView = {
    initialize: function initialize(element, dotnetRef, properties, enableSelectEvent) {
      new sfListView(element, dotnetRef, properties, enableSelectEvent);
      element.blazor__instance.initialize();
    },
    renderChildList: function renderChildList(element, parentId, selectedItems) {
      element.blazor__instance.renderChildList(parentId, selectedItems);
    },
    updateElementDifference: function updateElementDifference(element, ListDifference) {
      element.blazor__instance.updateElementDifference(ListDifference);
    },
    addActiveClass: function addActiveClass(element) {
      element.blazor__instance.addActiveClass();
    },
    showHideItem: function showHideItem(element, item, display) {
      element.blazor__instance.showHideItem(item, display);
    },
    enableState: function enableState(element, item, isEnable) {
      element.blazor__instance.enableState(item, isEnable);
    },
    back: function back(element) {
      element.blazor__instance.back();
    },
    checkAllItems: function checkAllItems(element) {
      element.blazor__instance.checkAllItems();
    },
    uncheckAllItems: function uncheckAllItems(element) {
      element.blazor__instance.uncheckAllItems();
    },
    getCheckData: function getCheckData(element, item, isCheck) {
      element.blazor__instance.getCheckData(item, isCheck);
    },
    selectItem: function selectItem(element, item) {
      element.blazor__instance.selectItem(item);
    },
    updateLiElementHeight: function updateLiElementHeight(element) {
      element.blazor__instance.updateLiElementHeight();
    },
    getSelectedItems: function getSelectedItems(element) {
      return element.blazor__instance.getSelectedItems();
    },
    setAnimation: function setAnimation(element, animaton) {
      element.blazor__instance.setAnimation(animaton);
    },
    setSelectedItems: function setSelectedItems(element, selectedElementIdInfo) {
      element.blazor__instance.setSelectedItems(selectedElementIdInfo);
    },
    updateHeaderTitle: function updateHeaderTitle(element, title) {
      element.blazor__instance.updateHeaderTitle(title);
    },
    destroy: function destroy(element) {
      element.blazor__instance.destroy();
    }
  };
  return ListView;
}();

/***/ })

}]);